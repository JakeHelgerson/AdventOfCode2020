class Day3 {

  def treeCount(right: Int, down: Int): Long = {
    Day3.data
      .zipWithIndex
      .filter{ case (_, index) => index % down == 0 }
      .count { case (line, index) => line((index / down * right) % line.length ) == '#' }
  }
  val part1: Long = treeCount(3, 1)
  println(s"Part 1: $part1")

  val slopes: Iterator[(Int, Int)] = Iterator((1,  1), (3,  1), (5,  1), (7,  1), (1,  2))
  val part2: Long = slopes.map((treeCount _).tupled).product
  println(s"Part 2: $part2")

}

object Day3 {
  val data: Seq[String] =
             """......#...........#...#........
               |.#.....#...##.......#.....##...
               |......#.#....#.................
               |..............#.#.......#......
               |.....#.#...##...#.#..#..#..#..#
               |.......##...#..#...........#...
               |.......#.##.#...#.#.........#..
               |..#...##............##......#.#
               |.......#.......##......##.##.#.
               |...#...#........#....#........#
               |#............###.#......#.....#
               |..#........#....#..#..........#
               |..#..##....#......#..#......#..
               |........#......#......#..#..#..
               |..#...#....#..##.......#.#.....
               |.....#.#......#..#....#.##.#..#
               |......###.....#..#..........#..
               |.#................#.#..........
               |.........#..#...#......##......
               |##...#....#...#.#...#.##..#....
               |...##...#....#.........###.....
               |.#.#....#.........##...........
               |....#.#..#..#...........#......
               |..#..#.#....#....#...#.........
               |..........##.....#.##..........
               |..#.#....#..##......#.#.....##.
               |..#...#.##......#..........#...
               |......#....#..#.....#.....#...#
               |#.#...##.#.##.........#..#.....
               |...#.#.#.........#.....#.#.#...
               |..#.........#...............#..
               |#..##.....#.........#....#.....
               |...#....##..##...........##..#.
               |......##.................#.#...
               |##.......#....#.#.#.....#......
               |....#.#...#.................##.
               |#...#.........##.....#.........
               |#....#.###..#.....##.#....#....
               |#..#....#...#....#.#.#.........
               |.......#...........#....#.....#
               |#...#.............#........#...
               |.......#.....#...#..#.........#
               |.##.....##.....##.......#......
               |....##...##.......#..#.#.....#.
               |.##.........#......#........##.
               |.......#...#...###.#..#........
               |..#..###......##..##...........
               |.#..#......##..#.#.........#...
               |...#.......#........#...#.#....
               |...#....#..#....#.....##.......
               |............#......#..........#
               |.#.......#......#.#....#..#.#..
               |##.........#.#.#..........#....
               |....##.....#...................
               |.......#..#........#...........
               |....##.#..#......###.......#...
               |....#....#...#.#......#...#...#
               |.......#.....##..#....#...#....
               |#...#........#.........#..##...
               |...........##.........#.#...#..
               |....................#....#.##..
               |.#..#..#.........#....#..#..##.
               |......................#........
               |..###....#.......#.....###.##..
               |......#......#.......#.....#..#
               |.....#...#.##...#......#....#..
               |.....#.....##.............#....
               |....#......##..#....#.......#..
               |.##....#..##......###....#..#..
               |...###.#.............##...#.#..
               |.....#.....#.....#...#..#.#....
               |..#.#.....###......#.......#...
               |..........#.##......#.........#
               |..##..#.......................#
               |........#......#............#..
               |#..#..#..#.#......#..#....#....
               |...##......#.............#....#
               |...........#..#..##.......#....
               |.....#.........#.#..#..........
               |##...#.......#.#....#..#..#....
               |#.#.#...........#.##.#.#..###..
               |#..#...........#.........##....
               |............#.#..............#.
               |.#....#....##.#...........#..#.
               |....#...#..#...#....#....#.....
               |....#....#...#..#......#.......
               |.#.#.........#.......#.##......
               |.#..##...#........#...........#
               |##...#..#...#...#.....#...#....
               |....###.#..#.......##.#..#...#.
               |...##.......####...##.#........
               |#....#....#.#............#..#..
               |#.#.#...#...................##.
               |##......#...........#..........
               |#..#..#....#.#...#......#......
               |.##...#.....#...#........#.....
               |..#............#..............#
               |###........#..#....#...#......#
               |###..##......#.##...........#..
               |........#......#..#.....#......
               |...#..........#..#...........#.
               |....#..#..#....#........#....#.
               |.#.................#####..##..#
               |.....#...##..#..........#.##...
               |..#..............#...####......
               |.....#.##..................#.#.
               |...#.#..#..#........#..........
               |...........#....#.#..#.........
               |.....##.......#......#..#.#.#..
               |...#.............##...#........
               |...............#.......##.##.##
               |.....#........#........#.#..#..
               |...#..#.........#...##...###...
               |...#.#.............###.#.....#.
               |.#..........#......###.#.#.....
               |....##..##.............###.....
               |..#..#.#...##...#.......##.....
               |..........###........#.....#.#.
               |#.#....#..#..#......#...#...#..
               |.........#......##.......#.#..#
               |...#.....#.........##..#..#....
               |.....##.#..##.##..##...........
               |...#.#.##....#..#..#......#..#.
               |#....#....#.............#...##.
               |#......#..#.####.#.##.#....##..
               |##.#.#....##..................#
               |.....##......#.......##.......#
               |..#......#.#..#...##......##...
               |..#....##....#.........#..##...
               |.###.....#....##...........#...
               |.........#......#.#........#...
               |...#...#..#.#....######.#..#...
               |###......#.#.#.........##.#....
               |.....#...#.........#...#.......
               |....#.............#.#.........#
               |..##...#...#.......#......#....
               |.....#...#.#...#...#..#........
               |.#......#......................
               |...###..#..#....#...##.#.......
               |.#.#.....##...#...#.....#...##.
               |.....###..###....##............
               |.....##....#..#.....#.##.......
               |#........#.........#...#..#....
               |...#.#.........#..#.......#.#..
               |....#.#....##.....#..........#.
               |.#..#....#..#.#..#..#.........#
               |#...#....#..............#......
               |.........#.....#.##...##...###.
               |.....#....##............#..#...
               |.....#.#...........#..#....#...
               |.#..........#...#......#.....#.
               |.#...........#.....#..#........
               |..............#......##...#..#.
               |...#.........#..#....#..##...##
               |..##...#..................#....
               |#.....#.................#......
               |...#......#..#..........#.#....
               |......#..#.....#.....##...#..#.
               |......#........#..........#....
               |...##.##....#..##.#..........#.
               |..........#..#.#.##............
               |..##........................#..
               |.....#.#.#......#....#....##...
               |#....#.........#........#......
               |.##.......#...#...#........##..
               |....##......#....#.#..........#
               |..#.......#..............#.....
               |.....#......#.#...#..#.#.#....#
               |.....#..#........#.##.##.......
               |##........#..........#.........
               |.....#..##....#.#......###..##.
               |#.#...##.........#.#.....#..#..
               |#....#.#...#........#.....#..#.
               |........................#......
               |....###......#............#...#
               |...#..##......#..##.........#..
               |.............#...#......#..#..#
               |....#......#....#...........#..
               |..#.#.####.#.....##........#..#
               |#..#...#..#..#.......#.#..#....
               |..#..#..#....#.#.........##..#.
               |.......#......#.#............#.
               |...#.............#.#.....#.....
               |...#.#.........##...#.#.......#
               |........#...#...........##...#.
               |..........#....#......#....##..
               |..........#...........#........
               |...#..#...#..........#......#..
               |......#......#....#.....#..#.#.
               |........##.................#..#
               |.#........#.#...........#......
               |#...#........#.#.#.....#.#.#...
               |.........#........#..#..#....#.
               |##........#..........#....#..#.
               |.#.##...........#..#.#..##....#
               |.......#.#....#..#......#......
               |..#.....#........##..#......###
               |..#...#..................#....#
               |......#...#..#.##.......#......
               |........#...#.#................
               |.........#............#........
               |..#.....##....#.#..##..........
               |#.....#..........#....#........
               |....#.#...#...##....#.....##...
               |..#.#.......#.............#...#
               |...##..............#......#....
               |#......#...#................##.
               |.#.#...#.#..#..................
               |...##.......#...........#.#.#..
               |#......#.#.#........#.##...####
               |.......#..#.#.........#.#.##..#
               |..............#....#.........#.
               |...........#.#..#....##......#.
               |#.............#...##..#.......#
               |.........#............#...#.##.
               |.......#.........#.#.....#..#..
               |........................#.#.##.
               |#......#.#......#.........#....
               |...#.......#.......#.....#.....
               |#..#....#................#...#.
               |........#.#..##......#.........
               |#..#...##....##....##.........#
               |.......#...#...###.............
               |#.#..#........#.#.#............
               |#.....#........##.........#.#..
               |.#..........#....#.#....###....
               |.#.....#...#.#........#..#.##..
               |...#.##......#..#.............#
               |..##..#.#...................#..
               |.....#....#...#.#...#...#......
               |.....#..#.#....#.#.............
               |#.#....#.#.##..###..........#..
               |........#.#.............#..#...
               |.........#.......#.............
               |.##.#............##...#........
               |......#................#.......
               |...............#..#...........#
               |...#.......#...#.##.....#....#.
               |##..##..#..........#...........
               |.##.#.......#...#..#...#...#...
               |....#..#...........#....#.##...
               |.#........#........#....#......
               |.......#...#.##.#..#.#..#......
               |.#..#......#....#...##....#.#..
               |......#...##.#.....##.###.....#
               |.#....#..#......#...#.#.....#..
               |#............#....##...##.##...
               |#...#.#....#...#.......##...##.
               |#...........#.##..#....#.....#.
               |...#..#...#.........#.......#..
               |.#....#.....#............#.#..#
               |.#.....#.#...#.#....##......###
               |..#..#.#.#...#..#.............#
               |...#...#..#....#........#...##.
               |.......#.....#...##...........#
               |#.##.................#...##...#
               |..............##........#.....#
               |............#...#..#.......#.#.
               |#.#.....#.........#...#......#.
               |#.###..#......#..#..#...#.....#
               |.....#.......#.................
               |........#..#......#.#...#......
               |#.......#..#........#...#..#...
               |..#...#.......##.............#.
               |#.......#.......##...#.........
               |.........#....#.#..##.....#...#
               |..#.....#.#.......#....#.......
               |...#.......#.....#..##.#..#....
               |....#.......#.#.#..............
               |.#..#......#........#.#..##..##
               |....#...#.##.#...#....##...#...
               |#..##..#.....#.......#.........
               |....#..#..#.#............#.....
               |#.......##...##..##............
               |...............................
               |....#.......#.##...#.....#.#...
               |...#........#....#.#..#..#.....
               |##.......#.....##.#.#....#....#
               |#.............#...........#.##.
               |#...........#.#..........#.....
               |#..#....#....#.#.........#.#...
               |......#.#.#..#.#.#.............
               |...#.....#........##....#......
               |..#...#...#.#.......#......#...
               |.##........#...#..#..........#.
               |..#...........#..##.....##.....
               |............#..#.#...#.....#...
               |..........#....##.......#......
               |....#....#.................#..#
               |....#...............#.........#
               |..#.#...#......#..........##...
               |.....#...........#.........#..#
               |.......#.....##.....#.#........
               |.#.#..........#....#...........
               |.#..##....#........#....#......
               |....#.#..#.......#..#.........#
               |..#....#.....#......#..#.......
               |......#........#.......#...#.#.
               |.......#.......#....#.....##...
               |....##........#..#...#.#..#...#
               |.#......#...........##....#....
               |##....##......#.......#.......#
               |.##....#.##......#.......##..#.
               |...#..#.#.#.......#..#.###.....
               |..........##....#..#.##........
               |...#........###.#..#........#..
               |.....#....#..##....#.....#....#
               |#..........#..........#.#....#.
               |..#....#.....#..............#..
               |#..................#......#.##.
               |.#...#.#.....#.........##......
               |...#...........#.....#......#..
               |......#.....#.#..##......##....
               |...#....###..#.....#..#..##..##
               |......#.......##..#..#.........
               |#..#.#....#.#..#..........##.#.
               |..#..#..##..#.#.#.#.....#......
               |..#.#...#..#.....###.#.........
               |##.#.#......#........#.####....
               |.............#..#..#....#......
               |...##..........#.......#.#....#
               |..#.....................#......
               |..#..#...##...#.##........#....""".stripMargin.split("\n")

}